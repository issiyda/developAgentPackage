---
description: Github MCPを使用して現在の変更を全てコミットしてプッシュする
---

以下の手順で現在の変更をコミット&プッシュしてください:

## 1. Git状態の確認
まず、以下のコマンドを並列実行してGitの状態を確認してください:
- `git status` で変更ファイルを確認
- `git branch --show-current` で現在のブランチ名を取得
- `git diff HEAD` で変更内容の詳細を確認

## 2. 機密情報のチェック
変更ファイルの中に以下のような機密情報が含まれていないか確認してください:
- `.env` ファイルまたは環境変数ファイル
- パスワード、APIキー、トークンなどの認証情報
- `credentials`, `secrets`, `password` などの文字列を含むファイル

**機密情報が含まれている可能性がある場合:**
- **必ずAskUserQuestionツールを使用してユーザーに確認を取ってください**
- どのファイルが懸念されるか具体的に示してください
- ユーザーが承認しない限り、そのファイルはコミットしないでください

## 3. ブランチ確認
現在のブランチ名が `main`, `master`, `develop` のいずれかの場合:
- **必ずAskUserQuestionツールを使用してユーザーに確認を取ってください**
- 質問例: "現在 {ブランチ名} ブランチにいますが、このブランチに直接コミット&プッシュしてもよろしいですか?"
- ユーザーが拒否した場合は処理を中止してください

## 4. コミットメッセージの生成
- `git log` で最近のコミットメッセージのスタイルを確認
- 変更内容に基づいて適切なコミットメッセージを生成
- 日本語または英語でコミットメッセージを作成（リポジトリの慣習に従う）

## 5. Github MCPツールでコミット&プッシュ
以下のMCPツールを使用してコミット&プッシュを実行してください:

```
mcp__github__push_files ツールを使用
```

**重要な注意事項:**
- 必ずすべての変更ファイルを含めてください
- コミットメッセージは明確で説明的なものにしてください
- プッシュが失敗した場合はエラーメッセージをユーザーに報告してください

## 6. 結果の報告
プッシュが完了したら、以下の情報をユーザーに報告してください:
- コミットしたファイルの一覧
- コミットメッセージ
- プッシュ先のブランチ
- コミットハッシュ（取得できる場合）

---

**セキュリティ注意:**
- 機密情報を含むファイルは絶対にコミットしないでください
- ユーザーの明示的な承認なしに重要なブランチにプッシュしないでください
